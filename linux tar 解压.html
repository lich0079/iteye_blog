<h2> <span style="font-family: Liberation Serif,serif;">Linux</span> 下创建与解 压<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/zip/" title="查看 zip 的全部文章">zip</a> </span> , <span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tar/" title="查看 tar 的全部文章">tar</a> </span> , <span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tar-gz/" title="查看 tar.gz 的全部文章">tar.gz</a> </span> </span> 和<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tar-bz2/" title="查看 tar.bz2 的全部文章">tar.bz2</a> </span> </span> <span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e6%96%87%e4%bb%b6/" title="查看 文件 的全部文章">文件</a> </span> 及该文件<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e5%8e%8b%e7%bc%a9/" title="查看 压缩 的全部文章">压缩</a> </span> 对比</h2> 
<p><span style="font-family: Liberation Serif,serif;"> </span> 刚在<span style="font-family: Liberation Serif,serif;">qq</span> 群里面一位仁兄问到文件<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e5%8e%8b%e7%bc%a9/" title="查看 压缩 的全部文章">压缩</a> </span> 的命令，平时工作中大多用解压缩命令，要是遇到压缩就现查（这不是一个好习惯），于是整理下<span style="font-family: Liberation Serif,serif;">Linux</span> 下创建与解压<span style="font-family: Liberation Serif,serif;">zip</span> 、<span style="font-family: Liberation Serif,serif;">tar</span> 、<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tar-gz/" title="查看 tar.gz 的全部文章">tar.gz</a> </span> </span> 和<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tar-bz2/" title="查看 tar.bz2 的全部文章">tar.bz2</a> </span> </span> 文件及他们 之间<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e5%8e%8b%e7%bc%a9%e7%8e%87/" title="查看 压缩率 
的全部文章">压缩率</a> </span> 对比，在自己的脑袋内存空间有限又不经常使用的时候以便于备忘。现整理如 下：</p> 
<p><strong><span style="font-family: Liberation Serif,serif;"> </span> 目前<span style="font-family: Liberation Serif,serif;">Linux</span> 下常见的压缩文件扩展名：</strong> </p> 
<pre><span style="font-family: Liberation Serif,serif;">&nbsp;<strong>*.Z compress</strong>
</span>
<strong>程序压缩的文件（最早期使用）<span style="font-family: Liberation Serif,serif;">,</span>
压缩后取代源文件；
<span style="font-family: Liberation Serif,serif;"> *.zip </span>
一个夸平台的文件打包程序，适用于<span style="font-family: Liberation Serif,serif;">Linux</span>
、<span style="font-family: Liberation Serif,serif;">windows</span>
和<span style="font-family: Liberation Serif,serif;">Mac OS</span>
系统；
<span style="font-family: Liberation Serif,serif;"> *.bz2 bzip2</span>
程序压缩的文件；
<span style="font-family: Liberation Serif,serif;"> *.gz gzip</span>
程序压缩的文件；
<span style="font-family: Liberation Serif,serif;"> *.tar tar</span>
程序打包的文件，并没有压缩；
<span style="font-family: Liberation Serif,serif;"> *.tar.gz tar</span>
程序打包的文件，并经过<span style="font-family: Liberation Serif,serif;">gzip</span>
程序的压缩；
<span style="font-family: Liberation Serif,serif;"> *.tar.bz2 tar</span>
程序打包的文件，并经过<span style="font-family: Liberation Serif,serif;">bzip2</span>
程序压缩。</strong>
&lt;!--  		@page { margin: 2cm } 		P { margin-bottom: 0.21cm } --&gt;</pre> 
<p><span style="font-family: Liberation Serif,serif;"><span style="color: #0000ff;"> </span> <span style="color: #0000ff;"><span style="font-size: medium;"><strong>Tips</strong> </span> </span> </span> <span style="color: #0000ff;"><span style="font-size: medium;"><strong>：</strong> </span> </span> 所 谓扩展名只是大家约定的通用<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e6%a0%bc%e5%bc%8f/" title="查看 格式 的全部文章">格式</a> </span> ，是为了更方便的能一眼识别出是什么压缩类型，当然你可以打包或压缩为任意<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e6%a0%bc%e5%bc%8f/" title="查看 格式 的全部文章">格式</a> </span> 的后缀名，只要你愿意。</p> 
<p>&nbsp;</p> 
<p><strong><span style="font-family: Liberation Serif,serif;"> A</span> </strong> <strong>）<span style="font-family: Liberation Serif,serif;">*.zip</span> 格式是大家最常见的一种，它具 有夸操作系统平台性，可以同时在<span style="font-family: Liberation Serif,serif;">windows</span> 、<span style="font-family: Liberation Serif,serif;">Linux</span> 和<span style="font-family: Liberation Serif,serif;">Mac Os</span> 上使用。</strong> </p> 
<p><span style="font-family: Liberation Serif,serif;"> </span> 大家可以用<span style="font-family: Liberation Serif,serif;">zip</span> 格式压缩那些需要共享给<span style="font-family: Liberation Serif,serif;">windows</span> 用户的文件。压缩与解压<span style="font-family: Liberation Serif,serif;"><strong>.ZIP</strong> </span> 格 式的文件：</p> 
<pre><span style="font-family: Liberation Serif,serif;">[Lee@leedd.Com tmp]$ <strong>zip -r test.zip tmp</strong>
 </span>

<span style="font-family: Liberation Serif,serif;">adding: test/ (stored 0%) </span>

<span style="font-family: Liberation Serif,serif;">adding: test/data-file (deflated 24%) </span>

<span style="font-family: Liberation Serif,serif;">adding: test/r (deflated 51%) </span>
</pre> 
<p>下面是如果解压一个<span style="font-family: Liberation Serif,serif;">zip</span> 文 档：</p> 
<pre><span style="font-family: Liberation Serif,serif;">[Lee@leedd.Com tmp]$ <strong>rm -rf test </strong>
	#</span>
为测试解压，先删除当前目录下的<span style="font-family: Liberation Serif,serif;">tmp</span>
文件
<span style="font-family: Liberation Serif,serif;">[Lee@leedd.Com tmp]$ <strong>unzip test.zip</strong>
 </span>

Archive:&nbsp; test.zip
  creating: test/
 inflating: test/data-file
 inflating: test/r</pre> 
<p><strong><span style="font-family: Liberation Serif,serif;">B) </span> 压 缩与解压<span style="font-family: Liberation Serif,serif;">*.tar*</span> 、<span style="font-family: Liberation Serif,serif;">.tar.gz</span> 、<span style="font-family: Liberation Serif,serif;">*.tar.bz2 </span> 格式的文件及对比：</strong> <span style="font-family: Liberation Serif,serif;"><br> Tar</span> 是在<span style="font-family: Liberation Serif,serif;">Linux</span> 中 使用得非常广泛的文档打包格式。它的好处就是它只消耗非常少的<span style="font-family: Liberation Serif,serif;">CPU</span> 以及时间去打包文件，他仅仅只是一个打包工具，并不负责压缩<span style="font-family: Liberation Serif,serif;">,</span> 压缩是由<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/gzip/" title="查看 gzip 的全部文章">gzip</a> </span> </span> 与<span style="font-family: Liberation Serif,serif;">bzip2</span> 来实现的。因此把<span style="font-family: Liberation Serif,serif;"><strong>*.tar*</strong> </span> 、<span style="font-family: Liberation Serif,serif;"><strong>.tar.gz</strong> </span> 、<span style="font-family: Liberation Serif,serif;"><strong>*.tar.bz2 </strong> </span> 放 到一起来举例：</p> 
<p>比如我们要把目录<span style="font-family: Liberation Serif,serif;"><strong>/var/tmp</strong> </span> 下 的<span style="font-family: Liberation Serif,serif;"><strong>test</strong> </span> 目 录<strong>打包压缩</strong> 到当前目录</p> 
<pre><span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -cvf test.tar test ### </strong>
</span>
仅打包，不压缩
<span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -zcvf test.tar.gz test ### </strong>
</span>
打包后以<span style="font-family: Liberation Serif,serif;"><strong>gzip</strong>
</span>
压缩
<span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -jcvf test.tar.bz2 test ### </strong>
</span>
打包后以<span style="font-family: Liberation Serif,serif;"><strong>bzip2</strong>
</span>
压缩
<span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$<strong> ll test.tar* ### </strong>
</span>
对比压缩后<strong>文件大小</strong>

<span style="font-family: Liberation Serif,serif;">-rw-r--r-- 1 Lee mock 10240 01-18 17:05 test.tar </span>

<span style="font-family: Liberation Serif,serif;">-rw-r--r-- 1 Lee mock   357 01-18 17:06 test.tar.bz2 </span>

<span style="font-family: Liberation Serif,serif;">-rw-r--r-- 1 Lee mock   327 01-18 17:05 test.tar.gz</span>
</pre> 
<p><strong>如何解压缩包：</strong> </p> 
<pre><span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -xvf test.tar</strong>
 </span>

<span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -xvf test.tar.gz</strong>
</span>

<span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$ <strong>tar -jxvf test.tar.bz2</strong>
</span>
</pre> 
<p>上面<span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e6%b5%8b%e8%af%95/" title="查看 测试 的全部文章">测试</a> </span> 中，每次要删除解压后的<span style="font-family: Liberation Serif,serif;">test</span> 文件后解压打其他目录，因为如果不定义解压后目录路径和名字则默认解压到当前 目录并以把压缩包名称作为文件夹名字。如果要解压到其他目录（如<span style="font-family: Liberation Serif,serif;">:/var/tmp/find</span> ）则如下：</p> 
<pre><span style="font-family: Liberation Serif,serif;">[Lee@leedd tmp]$<strong> tar -jxvf test.tar.bz2 -C /var/tmp/find </strong>
</span>
</pre> 
<p><strong>关于</strong> <span style="font-family: Liberation Serif,serif;"><strong>tar.gz</strong> </span> <strong>和</strong> <span style="font-family: Liberation Serif,serif;"><strong>tar.bz2</strong> </span> <strong><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/%e5%8e%8b%e7%bc%a9%e7%8e%87/" title="查看 压缩率 
的全部文章">压缩率</a> </span> 的问题：</strong> </p> 
<p><span style="font-family: Liberation Serif,serif;"><strong> *.tar.gz </strong> </span> 在 压缩时不会占用太多<span style="font-family: Liberation Serif,serif;">CPU</span> 的， 而且可以得到一个非常理想的压缩率。也会被简写成<span style="font-family: Liberation Serif,serif;"><span class="wp_keywordlink_affiliate"><a target="_blank" href="http://leedd.com/tag/tgz/" title="查看 tgz 的全部文章">tgz</a> </span> </span> 。</p> 
<p><span style="font-family: Liberation Serif,serif;"><strong> *.tar.bz2</strong> </span> 网 上好的资料说这种压缩格式是压缩率最好的、它比前面的方式要占用更多的<span style="font-family: Liberation Serif,serif;">CPU</span> 与时间。但是经过上面的试验显示发现<span style="font-family: Liberation Serif,serif;">test.tar.gz</span> 的大小竟然比<span style="font-family: Liberation Serif,serif;">test.tar.bz2</span> 的更小（这是否意 味者<span style="font-family: Liberation Serif,serif;">*.tar.gz</span> 拥有更小 的压缩率？ 至少这次实验是这样）</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3>linux解压 tar命令</h3> 
<div class="post"> 
 <a name="tar"><strong>tar命令</strong> </a> 
 <p><strong><span style="color: #ffcc00;">tar [-cxtzjvfpPN] 文件与目录 ....</span> <br><span style="color: #ff6633;">参数： <br> -c ：建立一个压缩文件的参数指令(create 的意思)； <br> -x ：解开一个压缩文件的参数指令！ <br> -t ：查看 tarfile 里面的文件！ <br> 特别注意，在参数的下达中， c/x/t 仅能存在一个！不可同时存在！ <br> 因为不可能同时压缩与解压缩。 <br> -z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？ <br> -j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩？ <br> -v ：压缩的过程中显示文件！这个常用，但不建议用在背景执行过程！ <br> -f ：使用档名，请留意，在 f 之后要立即接档名喔！不要再加参数！ <br> 　　　例如使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成 <br> 　　　『 tar -zcvPf tfile sfile』才对喔！ <br> -p ：使用原文件的原来属性（属性不会依据使用者而变） <br> -P ：可以使用绝对路径来压缩！ <br> -N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！ <br> --exclude FILE：在压缩的过程中，不要将 FILE 打包！ <br> 范例：</span> <br><span style="color: #999999;">范 例一：将整个 /etc 目录下的文件全部打包成为 /tmp/etc.tar</span> <br><span style="color: #ffffff;">[root@linux ~]#</span> </strong> <span style="color: #ffcc00;">tar -cvf /tmp/etc.tar /etc</span> <span style="color: #999999;">&lt;==仅打包，不压缩！</span> <br><span style="color: #ffffff;">[root@linux ~]#</span> <strong><span style="color: #ffcc00;">tar -zcvf /tmp/etc.tar.gz /etc</span> </strong> <span style="color: #999999;">&lt;==打包后，以 gzip 压缩</span> <br><span style="color: #ffffff;">[root@linux ~]#</span> <strong><span style="color: #ffcc00;">tar -jcvf /tmp/etc.tar.bz2 /etc</span> </strong> <span style="color: #999999;">&lt;==打包后，以 bzip2 压缩</span> <br><span style="color: #ff6633;"># 特别注意，在参数 f 之后的文件档名是自己取的，我们习惯上都用 .tar 来作为辨识。 <br> # 如果加 z 参数，则以 .tar.gz 或 .tgz 来代表 gzip 压缩过的 tar file ～ <br> # 如果加 j 参数，则以 .tar.bz2 来作为附档名啊～ <br> # 上述指令在执行的时候，会显示一个警告讯息： <br> # 『tar: Removing leading `/" from member names』那是关於绝对路径的特殊设定。</span> </p> 
 <p><span style="color: #999999;">范例二：查阅上述 /tmp/etc.tar.gz 文件内有哪些文件？</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">tar -ztvf /tmp/etc.tar.gz</span> </strong> <br><span style="color: #ff6633;"># 由於我们使用 gzip 压缩，所以要查阅该 tar file 内的文件时， <br> # 就得要加上 z 这个参数了！这很重要的！</span> </p> 
 <p><span style="color: #999999;">范例三：将 /tmp/etc.tar.gz 文件解压缩在 /usr/local/src 底下</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">cd /usr/local/src</span> </strong> <br> [root@linux src]# <strong><span style="color: #ffcc00;">tar -zxvf /tmp/etc.tar.gz</span> </strong> <br><span style="color: #ff6633;"># 在预设的情况下，我们可以将压缩档在任何地方解开的！以这个范例来说， <br> # 我先将工作目录变换到 /usr/local/src 底下，并且解开 /tmp/etc.tar.gz ， <br> # 则解开的目录会在 /usr/local/src/etc 呢！另外，如果您进入 /usr/local/src/etc <br> # 则会发现，该目录下的文件属性与 /etc/ 可能会有所不同喔！</span> </p> 
 <p><span style="color: #999999;">范例四：在 /tmp 底下，我只想要将 /tmp/etc.tar.gz 内的 etc/passwd 解开而已</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">cd /tmp</span> </strong> <br> [root@linux tmp]# <strong><span style="color: #ffcc00;">tar -zxvf /tmp/etc.tar.gz etc/passwd</span> </strong> <br><span style="color: #ff6633;"># 我可以透过 tar -ztvf 来查阅 tarfile 内的文件名称，如果单只要一个文件， <br> # 就可以透过这个方式来下达！注意到！ etc.tar.gz 内的根目录 / 是被拿掉了！</span> </p> 
 <p><span style="color: #999999;">范例五：将 /etc/ 内的所有文件备份下来，并且保存其权限！</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">tar -zxvpf /tmp/etc.tar.gz /etc</span> </strong> <br><span style="color: #ff6633;"># 这个 -p 的属性是很重要的，尤其是当您要保留原本文件的属性时！</span> </p> 
 <p><span style="color: #999999;">范例六：在 /home 当中，比 2005/06/01 新的文件才备份</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">tar -N "2005/06/01" -zcvf home.tar.gz /home</span> </strong> </p> 
 <p><span style="color: #999999;">范例七：我要备份 /home, /etc ，但不要 /home/dmtsai</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">tar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc</span> </strong> </p> 
 <p><span style="color: #999999;">范例八：将 /etc/ 打包后直接解开在 /tmp 底下，而不产生文件！</span> <br> [root@linux ~]# <strong><span style="color: #ffcc00;">cd /tmp</span> </strong> <br> [root@linux tmp]# <span style="color: #ffcc00;"><strong>tar -cvf - /etc | tar -xvf -</strong> </span> <br><span style="color: #ff6633;"># 这个动作有点像是 cp -r /etc /tmp 啦～依旧是有其有用途的！ <br> # 要注意的地方在於输出档变成 - 而输入档也变成 - ，又有一个 | 存在～ <br> # 这分别代表 standard output, standard input 与管线命令啦！ <br> # 这部分我们会在 Bash shell 时，再次提到这个指令跟大家再解释啰！</span> </p> 
</div>